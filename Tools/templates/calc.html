{% extends "base.html" %}
{% block title %}Calculator{% endblock %}

{% block content %}
<div class="container">
  <h1>Simple Calculator</h1>

  <form id="calculator">
    Enter number 1:
    <input type="text" name="num1" id="num1"><br><br>

    Enter number 2:
    <input type="text" name="num2" id="num2"><br><br>

    <select name="operator" id="operator">
      <option value="+">Add</option>
      <option value="-">Subtract</option>
      <option value="*">Multiply</option>
      <option value="/">Divide</option>
    </select>

    <button type="submit">Calculate</button>
  </form>

  <div id="ans"></div>
</div>

<script>
  document.getElementById('calculator').addEventListener('submit', function(event) {
    event.preventDefault();
    const formData = new FormData(this);

    fetch('/calc', {
      method: 'POST',
      body: formData
    })
    .then(response => response.json())
    .then(data => {
      if (data.error) {
        document.getElementById('ans').innerText = 'Error: ' + data.error;
      } else {
        document.getElementById('ans').innerText = 'Result: ' + data.ans;
      }
    })
    .catch(error => console.error('Error:', error));
  });
</script>
{% endblock %}
